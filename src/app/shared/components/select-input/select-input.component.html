<div class="picklist-container">
  <!-- Source List -->
  <div class="list-container source-list">
    <nb-card>
      <nb-card-header>
        <div class="header-content">
          <span>Tipos Disponibles</span>
          <nb-icon icon="list-outline"></nb-icon>
        </div>
      </nb-card-header>
      <nb-card-body>
        <nb-list>
          <nb-list-item *ngFor="let type of certificateTypes$ | async" 
                        (click)="selectSourceItem(type)"
                        [class.selected]="isSelectedInSource(type)">
            <div class="list-item-content">
              <span class="item-name">{{ type.name }}</span>
              <span *ngIf="type.paid" class="price-badge">
                {{ type.price | currency:'USD':'symbol':'1.0-0' }}
              </span>
            </div>
          </nb-list-item>
        </nb-list>
      </nb-card-body>
    </nb-card>
  </div>

  <!-- Controls -->
  <div class="controls-container">
    <button nbButton status="primary" (click)="moveToTarget()" [disabled]="!hasSelectedSource">
      <nb-icon icon="arrow-forward-outline"></nb-icon>
    </button>
    <button nbButton status="primary" (click)="moveToSource()" [disabled]="!hasSelectedTarget">
      <nb-icon icon="arrow-back-outline"></nb-icon>
    </button>
  </div>

  <!-- Target List -->
  <div class="list-container target-list">
    <nb-card>
      <nb-card-header>
        <div class="header-content">
          <span>Tipos Seleccionados</span>
          <nb-icon icon="checkmark-circle-2-outline"></nb-icon>
        </div>
      </nb-card-header>
      <nb-card-body>
        <nb-list>
          <nb-list-item *ngFor="let type of selectedTypes" 
                        (click)="selectTargetItem(type)"
                        [class.selected]="isSelectedInTarget(type)">
            <div class="list-item-content">
              <span class="item-name">{{ type.name }}</span>
              <span *ngIf="type.paid" class="price-badge">
                {{ type.price | currency:'USD':'symbol':'1.0-0' }}
              </span>
            </div>
          </nb-list-item>
        </nb-list>
      </nb-card-body>
    </nb-card>
  </div>
</div>
